"use strict";
// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.2.0
//   protoc               unknown
// source: user_service/resource_access_settings.proto
Object.defineProperty(exports, "__esModule", { value: true });
exports.WildcardAccess = exports.AccessRule = exports.ResourceAccessSettings = exports.WildcardAccessType = exports.AccessPermissionType = exports.PrincipalType = exports.OwnershipKind = exports.protobufPackage = void 0;
exports.ownershipKindFromJSON = ownershipKindFromJSON;
exports.ownershipKindToJSON = ownershipKindToJSON;
exports.ownershipKindToNumber = ownershipKindToNumber;
exports.principalTypeFromJSON = principalTypeFromJSON;
exports.principalTypeToJSON = principalTypeToJSON;
exports.principalTypeToNumber = principalTypeToNumber;
exports.accessPermissionTypeFromJSON = accessPermissionTypeFromJSON;
exports.accessPermissionTypeToJSON = accessPermissionTypeToJSON;
exports.accessPermissionTypeToNumber = accessPermissionTypeToNumber;
exports.wildcardAccessTypeFromJSON = wildcardAccessTypeFromJSON;
exports.wildcardAccessTypeToJSON = wildcardAccessTypeToJSON;
exports.wildcardAccessTypeToNumber = wildcardAccessTypeToNumber;
/* eslint-disable */
const wire_1 = require("@bufbuild/protobuf/wire");
const object_id_1 = require("../utils/object_id");
const user_type_1 = require("../utils/user_type");
const user_role_1 = require("./user_role");
exports.protobufPackage = "user_service";
var OwnershipKind;
(function (OwnershipKind) {
    OwnershipKind["OWNED"] = "OWNED";
    OwnershipKind["UNOWNED"] = "UNOWNED";
    OwnershipKind["UNRECOGNIZED"] = "UNRECOGNIZED";
})(OwnershipKind || (exports.OwnershipKind = OwnershipKind = {}));
function ownershipKindFromJSON(object) {
    switch (object) {
        case 0:
        case "OWNED":
            return OwnershipKind.OWNED;
        case 1:
        case "UNOWNED":
            return OwnershipKind.UNOWNED;
        case -1:
        case "UNRECOGNIZED":
        default:
            return OwnershipKind.UNRECOGNIZED;
    }
}
function ownershipKindToJSON(object) {
    switch (object) {
        case OwnershipKind.OWNED:
            return "OWNED";
        case OwnershipKind.UNOWNED:
            return "UNOWNED";
        case OwnershipKind.UNRECOGNIZED:
        default:
            return "UNRECOGNIZED";
    }
}
function ownershipKindToNumber(object) {
    switch (object) {
        case OwnershipKind.OWNED:
            return 0;
        case OwnershipKind.UNOWNED:
            return 1;
        case OwnershipKind.UNRECOGNIZED:
        default:
            return -1;
    }
}
var PrincipalType;
(function (PrincipalType) {
    PrincipalType["USER"] = "USER";
    PrincipalType["FAMILY"] = "FAMILY";
    PrincipalType["UNRECOGNIZED"] = "UNRECOGNIZED";
})(PrincipalType || (exports.PrincipalType = PrincipalType = {}));
function principalTypeFromJSON(object) {
    switch (object) {
        case 0:
        case "USER":
            return PrincipalType.USER;
        case 1:
        case "FAMILY":
            return PrincipalType.FAMILY;
        case -1:
        case "UNRECOGNIZED":
        default:
            return PrincipalType.UNRECOGNIZED;
    }
}
function principalTypeToJSON(object) {
    switch (object) {
        case PrincipalType.USER:
            return "USER";
        case PrincipalType.FAMILY:
            return "FAMILY";
        case PrincipalType.UNRECOGNIZED:
        default:
            return "UNRECOGNIZED";
    }
}
function principalTypeToNumber(object) {
    switch (object) {
        case PrincipalType.USER:
            return 0;
        case PrincipalType.FAMILY:
            return 1;
        case PrincipalType.UNRECOGNIZED:
        default:
            return -1;
    }
}
var AccessPermissionType;
(function (AccessPermissionType) {
    AccessPermissionType["ALLOW_READ"] = "ALLOW_READ";
    AccessPermissionType["ALLOW_WRITE"] = "ALLOW_WRITE";
    AccessPermissionType["DENY_READ"] = "DENY_READ";
    AccessPermissionType["DENY_WRITE"] = "DENY_WRITE";
    AccessPermissionType["UNRECOGNIZED"] = "UNRECOGNIZED";
})(AccessPermissionType || (exports.AccessPermissionType = AccessPermissionType = {}));
function accessPermissionTypeFromJSON(object) {
    switch (object) {
        case 0:
        case "ALLOW_READ":
            return AccessPermissionType.ALLOW_READ;
        case 1:
        case "ALLOW_WRITE":
            return AccessPermissionType.ALLOW_WRITE;
        case 2:
        case "DENY_READ":
            return AccessPermissionType.DENY_READ;
        case 3:
        case "DENY_WRITE":
            return AccessPermissionType.DENY_WRITE;
        case -1:
        case "UNRECOGNIZED":
        default:
            return AccessPermissionType.UNRECOGNIZED;
    }
}
function accessPermissionTypeToJSON(object) {
    switch (object) {
        case AccessPermissionType.ALLOW_READ:
            return "ALLOW_READ";
        case AccessPermissionType.ALLOW_WRITE:
            return "ALLOW_WRITE";
        case AccessPermissionType.DENY_READ:
            return "DENY_READ";
        case AccessPermissionType.DENY_WRITE:
            return "DENY_WRITE";
        case AccessPermissionType.UNRECOGNIZED:
        default:
            return "UNRECOGNIZED";
    }
}
function accessPermissionTypeToNumber(object) {
    switch (object) {
        case AccessPermissionType.ALLOW_READ:
            return 0;
        case AccessPermissionType.ALLOW_WRITE:
            return 1;
        case AccessPermissionType.DENY_READ:
            return 2;
        case AccessPermissionType.DENY_WRITE:
            return 3;
        case AccessPermissionType.UNRECOGNIZED:
        default:
            return -1;
    }
}
var WildcardAccessType;
(function (WildcardAccessType) {
    WildcardAccessType["ALL_PRINCIPALS"] = "ALL_PRINCIPALS";
    WildcardAccessType["ALL_TEACHER_PRINCIPALS"] = "ALL_TEACHER_PRINCIPALS";
    WildcardAccessType["ALL_PARENT_PRINCIPALS"] = "ALL_PARENT_PRINCIPALS";
    WildcardAccessType["ALL_STUDENT_PRINCIPALS"] = "ALL_STUDENT_PRINCIPALS";
    WildcardAccessType["ROLE"] = "ROLE";
    WildcardAccessType["UNRECOGNIZED"] = "UNRECOGNIZED";
})(WildcardAccessType || (exports.WildcardAccessType = WildcardAccessType = {}));
function wildcardAccessTypeFromJSON(object) {
    switch (object) {
        case 0:
        case "ALL_PRINCIPALS":
            return WildcardAccessType.ALL_PRINCIPALS;
        case 1:
        case "ALL_TEACHER_PRINCIPALS":
            return WildcardAccessType.ALL_TEACHER_PRINCIPALS;
        case 2:
        case "ALL_PARENT_PRINCIPALS":
            return WildcardAccessType.ALL_PARENT_PRINCIPALS;
        case 3:
        case "ALL_STUDENT_PRINCIPALS":
            return WildcardAccessType.ALL_STUDENT_PRINCIPALS;
        case 4:
        case "ROLE":
            return WildcardAccessType.ROLE;
        case -1:
        case "UNRECOGNIZED":
        default:
            return WildcardAccessType.UNRECOGNIZED;
    }
}
function wildcardAccessTypeToJSON(object) {
    switch (object) {
        case WildcardAccessType.ALL_PRINCIPALS:
            return "ALL_PRINCIPALS";
        case WildcardAccessType.ALL_TEACHER_PRINCIPALS:
            return "ALL_TEACHER_PRINCIPALS";
        case WildcardAccessType.ALL_PARENT_PRINCIPALS:
            return "ALL_PARENT_PRINCIPALS";
        case WildcardAccessType.ALL_STUDENT_PRINCIPALS:
            return "ALL_STUDENT_PRINCIPALS";
        case WildcardAccessType.ROLE:
            return "ROLE";
        case WildcardAccessType.UNRECOGNIZED:
        default:
            return "UNRECOGNIZED";
    }
}
function wildcardAccessTypeToNumber(object) {
    switch (object) {
        case WildcardAccessType.ALL_PRINCIPALS:
            return 0;
        case WildcardAccessType.ALL_TEACHER_PRINCIPALS:
            return 1;
        case WildcardAccessType.ALL_PARENT_PRINCIPALS:
            return 2;
        case WildcardAccessType.ALL_STUDENT_PRINCIPALS:
            return 3;
        case WildcardAccessType.ROLE:
            return 4;
        case WildcardAccessType.UNRECOGNIZED:
        default:
            return -1;
    }
}
function createBaseResourceAccessSettings() {
    return {
        id: undefined,
        organization: undefined,
        name: "",
        ownershipKind: OwnershipKind.OWNED,
        userType: user_type_1.UserType.NONE,
        accessRules: [],
    };
}
exports.ResourceAccessSettings = {
    encode(message, writer = new wire_1.BinaryWriter()) {
        if (message.id !== undefined) {
            object_id_1.ObjectId.encode(message.id, writer.uint32(10).fork()).join();
        }
        if (message.organization !== undefined) {
            object_id_1.ObjectId.encode(message.organization, writer.uint32(18).fork()).join();
        }
        if (message.name !== "") {
            writer.uint32(26).string(message.name);
        }
        if (message.ownershipKind !== OwnershipKind.OWNED) {
            writer.uint32(32).int32(ownershipKindToNumber(message.ownershipKind));
        }
        if (message.userType !== user_type_1.UserType.NONE) {
            writer.uint32(40).int32((0, user_type_1.userTypeToNumber)(message.userType));
        }
        for (const v of message.accessRules) {
            exports.AccessRule.encode(v, writer.uint32(50).fork()).join();
        }
        return writer;
    },
    decode(input, length) {
        const reader = input instanceof wire_1.BinaryReader ? input : new wire_1.BinaryReader(input);
        let end = length === undefined ? reader.len : reader.pos + length;
        const message = createBaseResourceAccessSettings();
        while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
                case 1:
                    if (tag !== 10) {
                        break;
                    }
                    message.id = object_id_1.ObjectId.decode(reader, reader.uint32());
                    continue;
                case 2:
                    if (tag !== 18) {
                        break;
                    }
                    message.organization = object_id_1.ObjectId.decode(reader, reader.uint32());
                    continue;
                case 3:
                    if (tag !== 26) {
                        break;
                    }
                    message.name = reader.string();
                    continue;
                case 4:
                    if (tag !== 32) {
                        break;
                    }
                    message.ownershipKind = ownershipKindFromJSON(reader.int32());
                    continue;
                case 5:
                    if (tag !== 40) {
                        break;
                    }
                    message.userType = (0, user_type_1.userTypeFromJSON)(reader.int32());
                    continue;
                case 6:
                    if (tag !== 50) {
                        break;
                    }
                    message.accessRules.push(exports.AccessRule.decode(reader, reader.uint32()));
                    continue;
            }
            if ((tag & 7) === 4 || tag === 0) {
                break;
            }
            reader.skip(tag & 7);
        }
        return message;
    },
    fromJSON(object) {
        return {
            id: isSet(object.id) ? object_id_1.ObjectId.fromJSON(object.id) : undefined,
            organization: isSet(object.organization) ? object_id_1.ObjectId.fromJSON(object.organization) : undefined,
            name: isSet(object.name) ? globalThis.String(object.name) : "",
            ownershipKind: isSet(object.ownershipKind) ? ownershipKindFromJSON(object.ownershipKind) : OwnershipKind.OWNED,
            userType: isSet(object.userType) ? (0, user_type_1.userTypeFromJSON)(object.userType) : user_type_1.UserType.NONE,
            accessRules: globalThis.Array.isArray(object?.accessRules)
                ? object.accessRules.map((e) => exports.AccessRule.fromJSON(e))
                : [],
        };
    },
    toJSON(message) {
        const obj = {};
        if (message.id !== undefined) {
            obj.id = object_id_1.ObjectId.toJSON(message.id);
        }
        if (message.organization !== undefined) {
            obj.organization = object_id_1.ObjectId.toJSON(message.organization);
        }
        if (message.name !== "") {
            obj.name = message.name;
        }
        if (message.ownershipKind !== OwnershipKind.OWNED) {
            obj.ownershipKind = ownershipKindToJSON(message.ownershipKind);
        }
        if (message.userType !== user_type_1.UserType.NONE) {
            obj.userType = (0, user_type_1.userTypeToJSON)(message.userType);
        }
        if (message.accessRules?.length) {
            obj.accessRules = message.accessRules.map((e) => exports.AccessRule.toJSON(e));
        }
        return obj;
    },
    create(base) {
        return exports.ResourceAccessSettings.fromPartial(base ?? {});
    },
    fromPartial(object) {
        const message = createBaseResourceAccessSettings();
        message.id = (object.id !== undefined && object.id !== null) ? object_id_1.ObjectId.fromPartial(object.id) : undefined;
        message.organization = (object.organization !== undefined && object.organization !== null)
            ? object_id_1.ObjectId.fromPartial(object.organization)
            : undefined;
        message.name = object.name ?? "";
        message.ownershipKind = object.ownershipKind ?? OwnershipKind.OWNED;
        message.userType = object.userType ?? user_type_1.UserType.NONE;
        message.accessRules = object.accessRules?.map((e) => exports.AccessRule.fromPartial(e)) || [];
        return message;
    },
};
function createBaseAccessRule() {
    return { permissionType: AccessPermissionType.ALLOW_READ, principal: PrincipalType.USER, wildcard: undefined };
}
exports.AccessRule = {
    encode(message, writer = new wire_1.BinaryWriter()) {
        if (message.permissionType !== AccessPermissionType.ALLOW_READ) {
            writer.uint32(8).int32(accessPermissionTypeToNumber(message.permissionType));
        }
        if (message.principal !== undefined && message.principal !== PrincipalType.USER) {
            writer.uint32(16).int32(principalTypeToNumber(message.principal));
        }
        if (message.wildcard !== undefined) {
            exports.WildcardAccess.encode(message.wildcard, writer.uint32(26).fork()).join();
        }
        return writer;
    },
    decode(input, length) {
        const reader = input instanceof wire_1.BinaryReader ? input : new wire_1.BinaryReader(input);
        let end = length === undefined ? reader.len : reader.pos + length;
        const message = createBaseAccessRule();
        while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
                case 1:
                    if (tag !== 8) {
                        break;
                    }
                    message.permissionType = accessPermissionTypeFromJSON(reader.int32());
                    continue;
                case 2:
                    if (tag !== 16) {
                        break;
                    }
                    message.principal = principalTypeFromJSON(reader.int32());
                    continue;
                case 3:
                    if (tag !== 26) {
                        break;
                    }
                    message.wildcard = exports.WildcardAccess.decode(reader, reader.uint32());
                    continue;
            }
            if ((tag & 7) === 4 || tag === 0) {
                break;
            }
            reader.skip(tag & 7);
        }
        return message;
    },
    fromJSON(object) {
        return {
            permissionType: isSet(object.permissionType)
                ? accessPermissionTypeFromJSON(object.permissionType)
                : AccessPermissionType.ALLOW_READ,
            principal: isSet(object.principal) ? principalTypeFromJSON(object.principal) : PrincipalType.USER,
            wildcard: isSet(object.wildcard) ? exports.WildcardAccess.fromJSON(object.wildcard) : undefined,
        };
    },
    toJSON(message) {
        const obj = {};
        if (message.permissionType !== AccessPermissionType.ALLOW_READ) {
            obj.permissionType = accessPermissionTypeToJSON(message.permissionType);
        }
        if (message.principal !== undefined && message.principal !== PrincipalType.USER) {
            obj.principal = principalTypeToJSON(message.principal);
        }
        if (message.wildcard !== undefined) {
            obj.wildcard = exports.WildcardAccess.toJSON(message.wildcard);
        }
        return obj;
    },
    create(base) {
        return exports.AccessRule.fromPartial(base ?? {});
    },
    fromPartial(object) {
        const message = createBaseAccessRule();
        message.permissionType = object.permissionType ?? AccessPermissionType.ALLOW_READ;
        message.principal = object.principal ?? PrincipalType.USER;
        message.wildcard = (object.wildcard !== undefined && object.wildcard !== null)
            ? exports.WildcardAccess.fromPartial(object.wildcard)
            : undefined;
        return message;
    },
};
function createBaseWildcardAccess() {
    return { type: WildcardAccessType.ALL_PRINCIPALS, role: user_role_1.UserRole.DEVELOPER };
}
exports.WildcardAccess = {
    encode(message, writer = new wire_1.BinaryWriter()) {
        if (message.type !== WildcardAccessType.ALL_PRINCIPALS) {
            writer.uint32(8).int32(wildcardAccessTypeToNumber(message.type));
        }
        if (message.role !== undefined && message.role !== user_role_1.UserRole.DEVELOPER) {
            writer.uint32(16).int32((0, user_role_1.userRoleToNumber)(message.role));
        }
        return writer;
    },
    decode(input, length) {
        const reader = input instanceof wire_1.BinaryReader ? input : new wire_1.BinaryReader(input);
        let end = length === undefined ? reader.len : reader.pos + length;
        const message = createBaseWildcardAccess();
        while (reader.pos < end) {
            const tag = reader.uint32();
            switch (tag >>> 3) {
                case 1:
                    if (tag !== 8) {
                        break;
                    }
                    message.type = wildcardAccessTypeFromJSON(reader.int32());
                    continue;
                case 2:
                    if (tag !== 16) {
                        break;
                    }
                    message.role = (0, user_role_1.userRoleFromJSON)(reader.int32());
                    continue;
            }
            if ((tag & 7) === 4 || tag === 0) {
                break;
            }
            reader.skip(tag & 7);
        }
        return message;
    },
    fromJSON(object) {
        return {
            type: isSet(object.type) ? wildcardAccessTypeFromJSON(object.type) : WildcardAccessType.ALL_PRINCIPALS,
            role: isSet(object.role) ? (0, user_role_1.userRoleFromJSON)(object.role) : user_role_1.UserRole.DEVELOPER,
        };
    },
    toJSON(message) {
        const obj = {};
        if (message.type !== WildcardAccessType.ALL_PRINCIPALS) {
            obj.type = wildcardAccessTypeToJSON(message.type);
        }
        if (message.role !== undefined && message.role !== user_role_1.UserRole.DEVELOPER) {
            obj.role = (0, user_role_1.userRoleToJSON)(message.role);
        }
        return obj;
    },
    create(base) {
        return exports.WildcardAccess.fromPartial(base ?? {});
    },
    fromPartial(object) {
        const message = createBaseWildcardAccess();
        message.type = object.type ?? WildcardAccessType.ALL_PRINCIPALS;
        message.role = object.role ?? user_role_1.UserRole.DEVELOPER;
        return message;
    },
};
function isSet(value) {
    return value !== null && value !== undefined;
}
